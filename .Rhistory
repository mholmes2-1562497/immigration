select(country, X, X.1, X.2, latitude, longitude) %>%
as.numeric(X, X.1, X.2)
cols <- c("country", "total", "criminal", "noncriminal", "lat", "long")
colnames(data.06) <- cols
data.06 <- data.06[c(15 : 174), ] #remove region data
PlotMap <- function(year.data) {
g <- list(
locationmode = 'world',
scope = 'world',
showland = TRUE,
landcolor = toRGB("gray95"),
subunitcolor = toRGB("gray85"),
countrycolor = toRGB("gray85"),
countrywidth = 0.5,
subunitwidth = 0.5,
showcountries = TRUE
)
world.map.plot <- plot_geo(year.data, lat = ~lat, lon = ~long) %>%
add_markers(
text = ~paste(country, paste("criminal", criminal), paste0("non-criminal", noncriminal), sep = "<br />"),
size = (~year.data$total)
) %>%
layout(
title = 'US Shootings in 2017<br />(Hover for more info)', geo = g
)
}
map.06 <- PlotMap(data.06)
map.06
as.numeric(X, X.1, X.2)
data.06 <- as.numeric(total, criminal, noncriminal)
data.06 <- data.06 %>% as.numeric(total, criminal, noncriminal)
data.06 <- data.06 %>% as.numeric(data.06$total, criminal, noncriminal)
data.06 <- as.numeric(data.06$total, data.06$criminal, data.06$noncriminal)
PlotMap <- function(year.data) {
g <- list(
locationmode = 'world',
scope = 'world',
showland = TRUE,
landcolor = toRGB("gray95"),
subunitcolor = toRGB("gray85"),
countrycolor = toRGB("gray85"),
countrywidth = 0.5,
subunitwidth = 0.5,
showcountries = TRUE
)
world.map.plot <- plot_geo(year.data, lat = ~lat, lon = ~long) %>%
add_markers(
text = ~paste(country, paste("criminal", criminal), paste0("non-criminal", noncriminal), sep = "<br />"),
size = (~year.data$total)
) %>%
layout(
title = 'US Shootings in 2017<br />(Hover for more info)', geo = g
)
}
map.06 <- PlotMap(data.06)
map.06 <- PlotMap(data.06)
g <- list(
locationmode = 'world',
scope = 'world',
showland = TRUE,
landcolor = toRGB("gray95"),
subunitcolor = toRGB("gray85"),
countrycolor = toRGB("gray85"),
countrywidth = 0.5,
subunitwidth = 0.5,
showcountries = TRUE
)
world.map.plot <- plot_geo(year.data, lat = ~lat, lon = ~long) %>%
add_markers(
text = ~paste(country, paste("criminal", criminal), paste0("non-criminal", noncriminal), sep = "<br />"),
size = (~year.data$total)
) %>%
layout(
title = 'US Shootings in 2017<br />(Hover for more info)', geo = g
)
g <- list(
locationmode = 'world',
scope = 'world',
showland = TRUE,
landcolor = toRGB("gray95"),
subunitcolor = toRGB("gray85"),
countrycolor = toRGB("gray85"),
countrywidth = 0.5,
subunitwidth = 0.5,
showcountries = TRUE
)
world.map.plot <- plot_geo(data.06, lat = ~lat, lon = ~long) %>%
add_markers(
text = ~paste(country, paste("criminal", criminal), paste0("non-criminal", noncriminal), sep = "<br />"),
size = (~data.06$total)
) %>%
layout(
title = 'US Shootings in 2017<br />(Hover for more info)', geo = g
)
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude)
cols <- c("country", "total", "criminal", "noncriminal", "lat", "long")
colnames(data.06) <- cols
#data.06 <- as.numeric(data.06$total, data.06$criminal, data.06$noncriminal)
data.06 <- data.06[c(15 : 174), ] #remove region data
View(data.06)
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude)
cols <- c("country", "total", "criminal", "noncriminal", "lat", "long")
colnames(data.06) <- cols
#data.06 <- as.numeric(data.06$total, data.06$criminal, data.06$noncriminal)
data.06 <- data.06[c(15 : 174), ] #remove region data
g <- list(
locationmode = 'world',
scope = 'world',
showland = TRUE,
landcolor = toRGB("gray95"),
subunitcolor = toRGB("gray85"),
countrycolor = toRGB("gray85"),
countrywidth = 0.5,
subunitwidth = 0.5,
showcountries = TRUE
)
world.map.plot <- plot_geo(data.06, lat = ~lat, lon = ~long) %>%
add_markers(
text = ~paste(country, paste("criminal", criminal), paste0("non-criminal", noncriminal), sep = "<br />"),
size = (~data.06$total)
) %>%
layout(
title = 'US Shootings in 2017<br />(Hover for more info)', geo = g
)
world.map.plot
as.numeric(data.06$total)
g <- list(
locationmode = 'world',
scope = 'world',
showland = TRUE,
landcolor = toRGB("gray95"),
subunitcolor = toRGB("gray85"),
countrycolor = toRGB("gray85"),
countrywidth = 0.5,
subunitwidth = 0.5,
showcountries = TRUE
)
world.map.plot <- plot_geo(data.06, lat = ~lat, lon = ~long) %>%
add_markers(
text = ~paste(country, paste("criminal", criminal), paste0("non-criminal", noncriminal), sep = "<br />"),
size = (~data.06$total)
) %>%
layout(
title = 'US Shootings in 2017<br />(Hover for more info)', geo = g
)
world.map.plot
as.numeric(data.06$total)
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude)
cols <- c("country", "total", "criminal", "noncriminal", "lat", "long")
colnames(data.06) <- cols
data.06 <- filter(is.na(data.06$lat) == FALSE)
as.numeric(data.06$total)
data.06 <- data.06[c(15 : 174), ] #remove region data
data.06 <- filter(is.na(data.06$lat) == FALSE)
data.06 <- filter(-is.na(data.06$lat) == TRUE)
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude) %>%
filter(X != "D")
cols <- c("country", "total", "criminal", "noncriminal", "lat", "long")
colnames(data.06) <- cols
as.numeric(data.06$total)
data.06 <- data.06[c(15 : 174), ] #remove region data
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude) %>%
filter(X != "D")
View(data.06)
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude) %>%
filter(X != "D" || X != "X" || X != "-")
View(data.06)
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude) %>%
filter(X != "D" || X != "X" || X != "-")
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude) %>%
filter(X != "D" || X != "X" || X != "-")
View(data.06)
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude)
cols <- c("country", "total", "criminal", "noncriminal", "lat", "long")
colnames(data.06) <- cols
as.numeric(data.06$total)
data.06 <- data.06[c(15 : 174), ] #remove region data
data.06 <- filter(data.06, X != "D" || X != "X" || X != "-")
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude)
cols <- c("country", "total", "criminal", "noncriminal", "lat", "long")
colnames(data.06) <- cols
as.numeric(data.06$total)
data.06 <- data.06[c(15 : 174), ] #remove region data
data.06 <- filter(data.06, total != "D" || total != "X" || total != "-")
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude)
cols <- c("country", "total", "criminal", "noncriminal", "lat", "long")
colnames(data.06) <- cols
as.numeric(data.06$total)
data.06 <- data.06[c(15 : 174), ] #remove region data
data.06 <- filter(data.06, total != "D" || total != "X" || total != "-")
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude)
cols <- c("country", "total", "criminal", "noncriminal", "lat", "long")
colnames(data.06) <- cols
as.numeric(data.06$total)
colnames(data.06) <- cols
data.06 <- data.06[c(15 : 174), ] #remove region data
data.06 <- filter(data.06, total != "D" || total != "X" || total != "-")
View(data.06)
is.numeric(data.06$total)
data.06 <- filter(data.06, which(is.numeric(total) == TRUE))
data.06 <- which(is.numeric(data.06$total) == TRUE)
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude)
cols <- c("country", "total", "criminal", "noncriminal", "lat", "long")
colnames(data.06) <- cols
data.06 <- data.06[c(15 : 174), ] #remove region data
data.06 <- which(is.numeric(data.06$total) == TRUE)
which(is.numeric(data.06$total) == TRUE)
which(is.numeric(data[total]) == TRUE)
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude)
cols <- c("country", "total", "criminal", "noncriminal", "lat", "long")
colnames(data.06) <- cols
data.06 <- data.06[c(15 : 174), ] #remove region data
View(data.06)
data.06 <- data.06[data.06$total == is.numeric(data.06$total)]
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude)
cols <- c("country", "total", "criminal", "noncriminal", "lat", "long")
colnames(data.06) <- cols
data.06 <- data.06[c(15 : 174), ] #remove region data
data.06 <- data.06[data.06$total == is.numeric(data.06$total)]
View(data.06)
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude)
cols <- c("country", "total", "criminal", "noncriminal", "lat", "long")
colnames(data.06) <- cols
data.06 <- data.06[c(15 : 174), ] #remove region data
View(data.06)
View(data.06)
data <- data.06[data.06$total == is.numeric(data.06$total)]
View(data)
data <- data.06[is.numeric(data.06$total)]
View(data.06)
View(data)
data <- data.06[is.numeric(data.06$total)]
is.numeric(data.06$total)
is.numeric(data.06[15:21])
is.numeric(data.06[15:21], )
is.numeric(data.06[15:21 , ] )
list <- list(c(4,5,6),c(6,3,4))
list
is.numeric(list)
f>0
4>0
d>0
"d">0
as.numeric(x)
as.numeric(list)
as.numeric(data.06$total)
mutate(data.06,total=as.numeric(total))
View(data.06)
View(data.06)
NA>0
NA
is.numeric(NA)
NA > 0
NA == NULL
data.06 <- data.06[c(15 : 174), ] %>% #remove region data
mutate(total = as.numeric(total))
View(data.06)
world.map.plot <- plot_geo(data.06, lat = ~lat, lon = ~long) %>%
add_markers(
text = ~paste(country, paste("criminal", criminal), paste0("non-criminal", noncriminal), sep = "<br />"),
size = (~data.06$total)
) %>%
layout(
title = 'US Shootings in 2017<br />(Hover for more info)', geo = g
)
world.map.plot
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude)
cols <- c("country", "total", "criminal", "noncriminal", "lat", "long")
colnames(data.06) <- cols
data.06 <- data.06[c(15 : 174), ] %>% #remove region data
mutate(total = as.numeric(total),
criminal = as.numeric(criminal),
noncriminal = as.numeric(noncriminal))
View(data.06)
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude)
cols <- c("country", "total", "criminal", "noncriminal", "lat", "long")
colnames(data.06) <- cols
data.06 <- data.06[c(15 : 174), ] %>% #remove region data
mutate(criminal = as.numeric(criminal),
noncriminal = as.numeric(noncriminal),
total = criminal + noncriminal)
View(data.06)
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude)
cols <- c("country", "total", "criminal", "noncriminal", "lat", "long")
colnames(data.06) <- cols
View(data.06)
removed.data <- left_join(removed.data, coordinates, by = "country") %>%
as.numeric(gsub(",", "", removed.data))
removed.data <- read.csv("data/removed.csv", stringsAsFactors = FALSE)
colnames(removed.data)[colnames(removed.data) == "Table.41."] <- "country"
coordinates <- read.csv("data/country-coordinates.csv", stringsAsFactors = FALSE)
removed.data <- left_join(removed.data, coordinates, by = "country")
removed.data <- as.numeric(gsub(",", "", removed.data))
removed.data
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude)
cols <- c("country", "total", "criminal", "noncriminal", "lat", "long")
colnames(data.06) <- cols
data.06 <- data.06[c(15 : 174), ] #remove region data
# mutate(criminal = as.numeric(criminal),
#        noncriminal = as.numeric(noncriminal),
#        total = criminal + noncriminal)
data.06 <- as.numeric(gsub(",", "", data.06$total))
data.06
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude)
cols <- c("country", "total", "criminal", "noncriminal", "lat", "long")
colnames(data.06) <- cols
data.06 <- data.06[c(15 : 174), ] #remove region data
# mutate(criminal = as.numeric(criminal),
#        noncriminal = as.numeric(noncriminal),
#        total = criminal + noncriminal)
data.06 <- as.numeric(gsub(",", "", data.06))
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude)
cols <- c("country", "total", "criminal", "noncriminal", "lat", "long")
colnames(data.06) <- cols
data.06 <- data.06[c(15 : 174), ] #remove region data
# mutate(criminal = as.numeric(criminal),
#        noncriminal = as.numeric(noncriminal),
#        total = criminal + noncriminal)
data.06 <- as.numeric(gsub(",", "", data.06))
removed.data <- left_join(removed.data, coordinates, by = "country")
removed.data <- read.csv("data/removed.csv", stringsAsFactors = FALSE)
colnames(removed.data)[colnames(removed.data) == "Table.41."] <- "country"
coordinates <- read.csv("data/country-coordinates.csv", stringsAsFactors = FALSE)
removed.data <- left_join(removed.data, coordinates, by = "country")
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude)
cols <- c("country", "total", "criminal", "noncriminal", "lat", "long")
colnames(data.06) <- cols
data.06 <- data.06[c(15 : 174), ] #remove region data
# mutate(criminal = as.numeric(criminal),
#        noncriminal = as.numeric(noncriminal),
#        total = criminal + noncriminal)
data.06 <- as.numeric(gsub(",", "", data.06))
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude)
cols <- c("country", "total", "criminal", "noncriminal", "lat", "long")
colnames(data.06) <- cols
data.06 <- data.06[c(15 : 174), ] #remove region data
# mutate(criminal = as.numeric(criminal),
#        noncriminal = as.numeric(noncriminal),
#        total = criminal + noncriminal)
data.06$total <- as.numeric(gsub(",", "", data.06$total))
View(data.06)
View(data.06)
world.map.plot <- plot_geo(data.06, lat = ~lat, lon = ~long) %>%
add_markers(
text = ~paste(country, paste("criminal", criminal), paste0("non-criminal", noncriminal), sep = "<br />"),
size = (~data.06$total)
) %>%
layout(
title = 'US Shootings in 2017<br />(Hover for more info)', geo = g
)
world.map.plot
world.map.plot <- plot_geo(data.06, lat = ~lat, lon = ~long) %>%
add_markers(
text = ~paste(country, paste("criminal", criminal), paste0("non-criminal", noncriminal), sep = "<br />"),
size = (~data.06$criminal/data.06$total)
) %>%
layout(
title = 'US Shootings in 2017<br />(Hover for more info)', geo = g
)
world.map.plot
text = ~paste(country, paste("criminal", criminal), paste0("non-criminal", noncriminal), sep = "<br />"),
size = (~(data.06$criminal/data.06$total)
) %>%
layout(
title = 'US Shootings in 2017<br />(Hover for more info)', geo = g
)
world.map.plot <- plot_geo(data.06, lat = ~lat, lon = ~long) %>%
add_markers(
text = ~paste(country, paste("criminal", criminal), paste0("non-criminal", noncriminal), sep = "<br />"),
size = (~(data.06$criminal/data.06$total))
) %>%
layout(
title = 'US Shootings in 2017<br />(Hover for more info)', geo = g
)
world.map.plot
world.map.plot <- plot_geo(data.06, lat = ~lat, lon = ~long) %>%
add_markers(
text = ~paste(country, paste("criminal", criminal), paste0("non-criminal", noncriminal), sep = "<br />"),
size = ((data.06$criminal/data.06$total))
) %>%
layout(
title = 'US Shootings in 2017<br />(Hover for more info)', geo = g
)
world.map.plot <- plot_geo(data.06, lat = ~lat, lon = ~long) %>%
add_markers(
text = ~paste(country, paste("criminal", criminal), paste0("non-criminal", noncriminal), sep = "<br />"),
size = ((data.06$criminal/data.06$total))
) %>%
layout(
title = 'US Shootings in 2017<br />(Hover for more info)', geo = g
)
data.06 <- data.06[c(15 : 174), ] %>%
mutate(ratio = noncriminal/total)#remove region data
data.06 <- data.06[c(15 : 174), ] %>%
mutate(ratio = noncriminal/total)#remove region data
data.06 <- data.06[c(15 : 174), ] %>%
mutate(ratio = (noncriminal/total))#remove region data
data.06$total <- as.numeric(gsub(",", "", data.06$total))
data.06$criminal <- as.numeric(gsub(",", "", data.06$criminal))
data.06$noncriminal <- as.numeric(gsub(",", "", data.06$noncriminal))
View(data.06)
View(data.06)
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude)
cols <- c("country", "total", "criminal", "noncriminal", "lat", "long")
colnames(data.06) <- cols
data.06 <- data.06[c(15 : 174), ] %>%
mutate(ratio = (noncriminal/total)) #remove region data
# mutate(criminal = as.numeric(criminal),
#        noncriminal = as.numeric(noncriminal),
#        total = criminal + noncriminal)
data.06$total <- as.numeric(gsub(",", "", data.06$total))
data.06$criminal <- as.numeric(gsub(",", "", data.06$criminal))
data.06$noncriminal <- as.numeric(gsub(",", "", data.06$noncriminal))
View(data.06)
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude)
cols <- c("country", "total", "criminal", "noncriminal", "lat", "long")
colnames(data.06) <- cols
data.06 <- data.06[c(15 : 174), ] %>%
mutate(ratio = (noncriminal/total)) #remove region data
# mutate(criminal = as.numeric(criminal),
#        noncriminal = as.numeric(noncriminal),
#        total = criminal + noncriminal)
data.06$total <- as.numeric(gsub(",", "", data.06$total))
data.06$criminal <- as.numeric(gsub(",", "", data.06$criminal))
data.06$noncriminal <- as.numeric(gsub(",", "", data.06$noncriminal))
View(data.06)
removed.data <- read.csv("data/removed.csv", stringsAsFactors = FALSE)
colnames(removed.data)[colnames(removed.data) == "Table.41."] <- "country"
coordinates <- read.csv("data/country-coordinates.csv", stringsAsFactors = FALSE)
removed.data <- left_join(removed.data, coordinates, by = "country")
#create separate dataframes for each year
data.06 <- removed.data %>% #2006 data
select(country, X, X.1, X.2, latitude, longitude)
cols <- c("country", "total", "criminal", "noncriminal", "lat", "long")
colnames(data.06) <- cols
data.06 <- data.06[c(15 : 174), ] %>%
mutate(ratio = (noncriminal/total)) #remove region data
# mutate(criminal = as.numeric(criminal),
#        noncriminal = as.numeric(noncriminal),
#        total = criminal + noncriminal)
data.06$total <- as.numeric(gsub(",", "", data.06$total))
data.06$criminal <- as.numeric(gsub(",", "", data.06$criminal))
data.06$noncriminal <- as.numeric(gsub(",", "", data.06$noncriminal))
View(data.06)
data.06 <- data.06[c(15 : 174), ]
View(data.06)
g <- list(
locationmode = 'world',
scope = 'world',
showland = TRUE,
landcolor = toRGB("gray95"),
subunitcolor = toRGB("gray85"),
countrycolor = toRGB("gray85"),
countrywidth = 0.5,
subunitwidth = 0.5,
showcountries = TRUE
)
world.map.plot <- plot_geo(data.06, lat = ~lat, lon = ~long) %>%
add_markers(
text = ~paste(country, paste("criminal", criminal), paste0("non-criminal", noncriminal), sep = "<br />"),
size = (~(data.06$total)*2)
) %>%
layout(
title = 'US Shootings in 2017<br />(Hover for more info)', geo = g
)
world.map.plot
g <- list(
locationmode = 'world',
scope = 'world',
showland = TRUE,
landcolor = toRGB("gray95"),
subunitcolor = toRGB("gray85"),
countrycolor = toRGB("gray85"),
countrywidth = 0.5,
subunitwidth = 0.5,
showcountries = TRUE
)
world.map.plot <- plot_geo(data.06, lat = ~lat, lon = ~long) %>%
add_markers(
text = ~paste(country, paste("criminal", criminal), paste0("non-criminal", noncriminal), sep = "<br />"),
size = (~(data.06$total)*10)
) %>%
layout(
title = 'US Shootings in 2017<br />(Hover for more info)', geo = g
)
world.map.plot
